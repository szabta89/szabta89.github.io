<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>An Extensible Framework for Variable-precision Data-flow Analyses in MPS</title>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="../css/main.css"/>
  </head>
    <body>
      <div id="main">

        <div class="header">
          <div class="mark">
            <span class="uw">MPS-DF</span>
          </div>
          <div id="title">project overview</div>
          <br/>
        </div>
			<div class="content">
			<a href="https://github.com/szabta89/IncA"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
				<p align="justify">MPS-DF is a tool for data-flow analyses of programs designed in MPS. It provides the DSL for building the data-flow graph of a program, DSL for defining the data-flow analyses and the API for evaluating the analyses and obtaining it's result.
					Additionally it provides the visualization tool for data-flow graph with the possibility to trace from data-flow graph nodes to program AST nodes.</p>
			</div>
			
			<div class="paper project">
        	<div class="thumbnail">
				<div class="desc">
					<h3>Table of contents:</h3>
					<ol>
						<li><a href="#claims">Highlights of the project</a></li>
						<li><a href="#start">Getting Started</a></li>
						<li><a href="#case_studies">Case studies</a></li>
						<li><a href="#evaluation">Evaluation</a></li>
					</ol>
				</div>
			</div>
			<div class="thumbnail">
				<div class="desc">
					<h3>System Requirements:</h3>
					<ul>
						<li><a href="https://confluence.jetbrains.com/display/MPS/Download+MPS+3.3.4">MPS 3.3.4</a></li>
						<li>Java 1.8</li>
						<li><a href="https://www.mbeddr.com">mbeddr</a> for the case studies</li>
					</ul>
				</div>
			</div>
			</div>

		<div style="clear:both"></div>

		<div class="content">
	        <h2 id="claims">1 - Highlights</h2>
	        <ul>
	        	<li>MPS-DF provides a DSL for building the data-flow graph, an intermediate program representation</li>
	        	<li>MPS-DF provides a DSL for data-flow analyses. Data-flow analyses derives information from the data-flow graph of the program.</li>
	        	<li>Analyses could be evaluated in different modes: intra-procedural and inter-procedural</li>
	        	<li>The result can be used in checking rules for highlighting errors in program or in generator for the optimization of generated code.</li>
	        </ul>
        </div>

        <div class="content">
	        <h2 id="start">2 - Getting Started</h2>

			<h3 id="MPS_start"> - MPS</h3>
	        
	        <p align="justify">
	        The MPS-DF comes as a built-in aspect of defining language in MPS. To get started you can just download MPS <a href="https://confluence.jetbrains.com/display/MPS/Download+MPS+3.3.4">MPS 3.3.4</a>
				and start designing the language. You can find the guide for MPS<a href="https://confluence.jetbrains.com/display/MPSD33/MPS+User's+Guide">here</a>

			<p>
				Alternatively you can check out MPS source code from <a href="https://github.com/JetBrains/MPS">GitHub</a> and play around with existing language with data-flow aspect defined.
				The most complete example is data-flow aspect of baseLanguage which is MPS implementations of Java.
				To create data-flow aspect of your language you need to right-click on the language, and choose New->DataFlow Aspect.
			 </p>

			<h3 id="Mbeddr_start"> - Mbeddr for case studies</h3>
			For case studies you will need to download and install <a href="https://www.mbeddr.com">mbeddr</a> which is set of integrated languages for embedded software development also built on top of MPS.
			<li>Clone mbeddr <code>https://github.com/mbeddr/mbeddr.core.git</code> and checkout the <code>feature/contextsensitive</code> branch of the repository (is that true way?).</li>

			<p align="justify">
				Whenever you need to find a file in MPS simply press CMD/CTRL + N and type in the name of the file you are looking for, then hit ENTER.
			</p>

		  <div class="content">
			  <h2 id="case_studies">3 - Case studies</h2>
			  <h3>Case study 1 - Inter-procedural Initialized Variables Analyses</h3>
			  Initialized variable analyses finds variables that are not initialized in the moment of reading and lets the corresponding checking rule highlight them as errors.
			  We define its lattice as set< node< Var> > and it encodes the set of definitely initialized variables at a program point.

			  The forward direction specifies that the analyses traversing of the program starts at the first instruction
			  The fun function builds the set of variables for every node in the DFG.
			  When fun encounters a write instruction in the DFG, it adds the written variable to the set because that variable is now definitely initialized.
			  The merge function uses intersection for this particular analysis, because we build a must analysis which considers a variable initialized only if it is initialized on all incoming execution paths.
			  <p>
			  You can find the it's declaration in  "InitializedVariablesAnalyzer" root in <code>com.mbeddr.core.modules.dataFlow</code> model
				  <p>
				  <img src="df/custom_instructions_mbeddr.png" alt="Mountain View" style="width:800px;height:128px;">
				  <img src="df/InitializedVar.png" alt="Mountain View" style="width:604px;height:228px;">
			  <p>
			  <h3>Case study 2 - Intra-procedural Nullable Analyses</h3>
			  Nullable analyses finds variables that could be null at the point they should not be, i.e at the method call.
			  We define its lattice as map< node, NullableState> and it encodes the state of each variable on each program point.
			  Nullable state can be one of the follows: NOTNULL, NULL, NULLABLE, UNKNOWN, NOT_INIT.
			  <p>
			  NOTNULL - means that variable is definitely not null at this program point.
			  <p>
			  NULL - definitely null.
			  <p>
			  NULLABLE - variable can be null.
			  <p>
			  UNKNOWN - no definite information could be told.
			  <p>
			  NOT_INIT - variable is not initialized.
			  <p>

			  Analyzses uses three custom instructions: nullable, notNull and null with the parameter of expression.

			  nullable is inserted to the graph i.e. when variable is annotated with the <code>@Nullable</code> annotation.
			  notNull is inserted i.e. if variable is annotated with the <code>@NotNull</code> annotation or the variable is assigned to the definitely not null expression.
			  null is inserted when the variable is assigned to null.
			  <p>
			  This Analyses is also forward.

			  <p>
				  You can find the it's declaration in  "NullableAnalyzer" root in <code>com.mbeddr.core.modules.dataFlow</code> model

		  </div>

        <div class="content">
	        <h2 id="evaluation">5 - Evaluation</h2>
			The common case for evaluating the data-flow analysis is checking the program and highlighting the errors.
			In MPS it is done in checking rules of <a href="https://confluence.jetbrains.com/display/MPSD33/Typesystem">typesystem</a>.
			MPS provides the API for evaluating either common analysis i.e.uninitialized reads, unreachable instructions and unused assignments or custom analyses.
			The common analysis could be evaluaated via building the program with MPSProgramBuilder.buildProgram() method and passing the result to the util class DataFlow.
			The example could be found at "check_UninitializedLocalField" rule.

			The custom analyses can be evaluate with the special construction "analyzerRunner". To use this construction you need to import language jetbrains.mps.lang.dataDlow.analyzers
        </div>


        </div>

        <div style="clear:both"></div>
        <div class="footer">
          Page was generated from <a href="https://github.com/szabta89/szabta89.github.io">github.com/szabta89/szabta89.github.io</a>.
        </div>
      </div>
      <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-44428446-5', 'auto');
        ga('send', 'pageview');

        ga('create', 'UA-48049134-5', 'auto', {'name': 'arvindsatya1'});
        ga('arvindsatya1.send', 'pageview');
      </script>
    </body>
</html>

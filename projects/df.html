<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>An Extensible Framework for Variable-precision Data-flow Analyses in MPS</title>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="../css/main.css"/>
</head>
<body>
<div id="main">

    <div class="header">
        <div class="mark">
            <span class="uw">MPS-DF</span>
        </div>
        <div id="title">project overview</div>
        <br/>
    </div>
    <div class="content">
        <p align="justify">MPS-DF is a tool for data-flow analyses of programs designed in MPS. It provides the DSL for
            building the data-flow graph of a program, DSL for defining the data-flow analyses and the API for
            evaluating the analyses and obtaining it's result.
            Additionally it provides the visualization tool for data-flow graph with the possibility to trace from
            data-flow graph nodes to program AST nodes.</p>
    </div>

    <div class="paper project">
        <div class="thumbnail">
            <div class="desc">
                <h3>Table of contents:</h3>
                <ol>
                    <li><a href="#claims">Highlights of the project</a></li>
                    <li><a href="#start">Getting Started</a></li>
                    <li><a href="#case_studies">Case studies</a></li>
                    <li><a href="#evaluation">Evaluation</a></li>
                </ol>
            </div>
        </div>
        <div class="thumbnail">
            <div class="desc">
                <h3>System Requirements:</h3>
                <ul>
                    <li><a href="https://confluence.jetbrains.com/display/MPS/Download+MPS+3.3.4">MPS < LINK HERE ></a></li>
                    <li>Java 1.8</li>
                    <li><a href="https://www.mbeddr.com">mbeddr</a> for the case studies</li>
                </ul>
            </div>
        </div>
    </div>

    <div style="clear:both"></div>

    <div class="content">
        <h2 id="claims">1 - Highlights</h2>
        <ul>
            <li>MPS-DF provides a DSL for building the data-flow graph, an intermediate program representation</li>
            <li>MPS-DF provides a DSL for data-flow analyses. Data-flow analyses derives information from the data-flow
                graph of the program.
            </li>
            <li>Analyses could be evaluated in different modes: intra-procedural and inter-procedural</li>
            <li>The result can be used in checking rules for highlighting errors in program or in generator for the
                optimization of generated code.
            </li>
        </ul>
    </div>

    <div class="content">
        <h2 id="start">2 - Getting Started</h2>

        <h3 id="MPS_start"> - MPS</h3>

        <p align="justify">
            The MPS-DF comes as a built-in aspect of defining language in MPS. MPS is a language workbench. You can find
            the guide for MPS <a href="https://confluence.jetbrains.com/display/MPSD33/MPS+User's+Guide">here</a>.
        <p>MPS-DF will be the part of MPS since version 3.4 which comes this summer.</p>
        <p>To get started and play around you need to download nightly build of MPS which is available here...</p>

        <h3 id="Mbeddr_start"> - Mbeddr for case studies</h3>
        For case studies you will need to download and install <a href="https://www.mbeddr.com">mbeddr</a> which is set
        of integrated languages for embedded software development also built on top of MPS.
        <li>Clone mbeddr <code>https://github.com/mbeddr/mbeddr.core.git</code> and checkout the <code>feature/contextsensitive</code>
            branch of the repository (is that true way?).
        </li>

        <p align="justify">
            Whenever you need to find a file in MPS simply press CMD/CTRL + N and type in the name of the file you are
            looking for, then hit ENTER.

            To create data-flow aspect of your language you need to right-click on the language, and choose
            New->DataFlow Aspect.
        </p>

        <p class="content">
        <h2 id="case_studies">3 - Case studies </h2>
        <h3>Case study 1 - Inter-procedural Initialized Variables Analyses [<a href="df/InitializedVars.pdf">pdf</a>][<a href="df/InitializedVars.txt">text</a>]</h3>
        Initialized variable analyses finds variables that are not initialized in the moment of reading and lets the
        corresponding checking rule highlight them as errors.
        <p>Its lattice is defined as <code>set< node < Var > ></code> and it encodes the set of definitely initialized
            variables at a program point.</p>
        <p>
            The <b>forward</b> direction specifies that the analyses traversing of the program starts at the first
            instruction
        </p>
        <p>
            The <code>fun</code> function builds the set of variables for every node in the DFG.
        </p>
        <p>When <code>fun</code> encounters a <code>write</code> instruction in the DFG, it adds the written variable to
            the set because that variable is now definitely initialized.</p>
        <p>When <code>fun</code> encounters a <code>defInit</code> instruction it adds the definitely initialized
            variable to the set because, by the meaning of the instruction, the variable is initialized.</p>
        <p>The merge function uses intersection for this particular analysis, because we build a must analysis which
            considers a variable initialized only if it is initialized on all incoming execution paths.</p>
        <p>
            You can find the it's declaration in "<code>InitializedVariablesAnalyzer</code>" root in <code>com.mbeddr.core.modules.dataFlow</code>
            model
        <p>
        <h3>Case study 2 - Intra-procedural Nullable Analyses [<a href="df/Nullable.pdf">pdf</a>][<a href="df/Nullable.txt">text</a>]</h3>
        Nullable analyses finds variables that could be null at the point they should not be, i.e at the method call.
        <p>This Analyses is forward same as Initialized variable analyses from case study 1.</p>
        Its lattice is defined as <code>map< node, NullableState></code> and it encodes the state of each expression and variable on
        each program point.
        Nullable state can be one of the follows: NOTNULL, NULL, NULLABLE, UNKNOWN, NOT_INIT.
        <p>
            <code>NOTNULL</code> - means that expression is definitely not null at this program point.
        <p>
            <code>NULL</code> - definitely null.
        <p>
            <code>NULLABLE</code> - expression can be null.
        <p>
            <code>UNKNOWN</code> - no definite information could be told.
        <p>
            <code>NOT_INIT</code>- variable is not initialized.
        <p>

            Analyses uses three custom instructions: <code>nullable</code>, <code>notNull</code> and <code>null</code>
            with the parameter of expression.

        <p><code>nullable</code> is inserted to the graph i.e. when variable is annotated with the<code>@Nullable</code> annotation.
        <p><code>notNull</code> is inserted i.e. if variable is annotated with the <code>@NotNull</code> annotation or
            the variable is assigned to the definitely not null expression.</p>
        <p><code>null</code> is inserted for the <code>null</code> literals.</p>
        <p>

        <p>The <code>fun</code> function assigns the <code>UNKNOWN</code> state to the expression if the instruction is not one of the three custom.</p>
        <p>It assigns the corresponding <code>NOTNULL</code>, <code>NULL</code> or <code> NULLABLE</code> state to the expression if the instruction is either
            <code>notNull</code>, <code>null</code> or <code>nullable</code></p>
        <p>The <code>fun</code> function encounters <code>write</code> instruction, it assigns the state of the expression to the written variabl</p>
        <p>The <code>merge</code> function reduces the information about the state. I.e. it returns <code>NULL</code> or <code>NOTNULL</code> only if in
        both paths state of the expression is correspondingly <code>NULL</code> or <code>NOTNULL</code>. Otherwise it will return <code>NULLABLE</code></p>


        <p>
            You can find the it's declaration in "NullableAnalyzer" root in
            <code>jetbrains.mps.baseLanguage.dataFlow</code> model

    </div>

    <div class="content">
        <h2 id="evaluation">5 - Evaluation</h2>
        The common case for evaluating the data-flow analysis is checking the program and highlighting the errors.
        In MPS it is done in checking rules of <a href="https://confluence.jetbrains.com/display/MPSD33/Typesystem">typesystem</a>.
        MPS provides the API for evaluating either common analysis i.e.uninitialized reads, unreachable instructions and
        unused assignments or custom analyses.
        The common analysis could be evaluated via building the program with MPSProgramBuilder.buildProgram() method
        and passing the result to the util class DataFlow.
        <p>
        The custom analyses can be evaluate with the special construction "analyzerRunner". To use this construction you
        need to import language jetbrains.mps.lang.dataDlow.analyzers
        </p>
        The examples of evaluating the case studies could be found at <code>InitializedVariablesAnalyzerHelper</code> and at <code>check_NullableStates</code> checking rule.
    </div>


</div>

<div style="clear:both"></div>
<div class="footer">
    Page was generated from <a href="https://github.com/szabta89/szabta89.github.io">github.com/szabta89/szabta89.github.io</a>.
</div>
</div>
<script type="text/javascript">
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-44428446-5', 'auto');
    ga('send', 'pageview');

    ga('create', 'UA-48049134-5', 'auto', {'name': 'arvindsatya1'});
    ga('arvindsatya1.send', 'pageview');
</script>
</body>
</html>
